package com.novaflow.action.dto.workflow;

import java.time.Instant;
import java.util.List;
import java.util.Map;

import com.fasterxml.jackson.annotation.JsonProperty;

import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class WorkflowResult {

    @JsonProperty("workflow_id")
    private String workflowId;

    @JsonProperty("workflow_name")
    private String workflowName;

    @JsonProperty("correlation_id")
    private String correlationId;

    private Instant timestamp;

    private boolean success;

    @JsonProperty("total_steps")
    private int totalSteps;

    @JsonProperty("completed_steps")
    private int completedSteps;

    @JsonProperty("failed_step")
    private String failedStep;

    @JsonProperty("duration_ms")
    private long durationMs;

    private Map<String, Object> variables;

    @JsonProperty("step_results")
    private List<StepResult> stepResults;

    private String error;
}
