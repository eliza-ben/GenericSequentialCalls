 S3 PUT failed: 403 <?xml version="1.0" encoding="UTF-8"?><EOL><Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><AWSAccessKeyId>AKIAYEJSAYU2IKMMT6GQ</AWSAccessKeyId><StringToSign>AWS4-HMAC-SHA256<EOL>20260212T183846Z<EOL>20260212/us-west-2/s3/aws4_request<EOL>a9b1bd2abc17e181df0de1c2a5488db94a274ee9a514b67ac797783c9d4446fb</StringToSign><SignatureProvided>671044c520643858defc471e864c627bad89a05daadbda552f36a85b5db06299</SignatureProvided><StringToSignBytes>41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 36 30 32 31 32 54 31 38 33 38 34 36 5a 0a 32 30 32 36 30 32 31 32 2f 75 73 2d 77 65 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 61 39 62 31 62 64 32 61 62 63 31 37 65 31 38 31 64 66 30 64 65 31 63 32 61 35 34 38 38 64 62 39 34 61 32 37 34 65 65 39 61 35 31 34 62 36 37 61 63 37 39 37 37 38 33 63 39 64 34 34 34 36 66 62</StringToSignBytes><CanonicalRequest>PUT<EOL>/files/demo/100181/153284/Bank_of_New_York_Sub_Custody_NT_b1.xlsx<EOL>X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260212T183846Z&amp;X-Amz-Expires=604799&amp;X-Amz-SignedHeaders=content-md5%3Bhost<EOL>content-md5:OgMAWCUhPz5dj8NJXztaTg==<EOL>host:jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com<EOL><EOL>content-md5;host<EOL>UNSIGNED-PAYLOAD</CanonicalRequest><CanonicalRequestBytes>50 55 54 0a 2f 66 69 6c 65 73 2f 64 65 6d 6f 2f 31 30 30 31 38 31 2f 31 35 33 32 38 34 2f 42 61 6e 6b 5f 6f 66 5f 4e 65 77 5f 59 6f 72 6b 5f 53 75 62 5f 43 75 73 74 6f 64 79 5f 4e 54 5f 62 31 2e 78 6c 73 78 0a 58 2d 41 6d 7a 2d 41 6c 67 6f 72 69 74 68 6d 3d 41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 26 58 2d 41 6d 7a 2d 43 72 65 64 65 6e 74 69 61 6c 3d 41 4b 49 41 59 45 4a 53 41 59 55 32 49 4b 4d 4d 54 36 47 51 25 32 46 32 30 32 36 30 32 31 32 25 32 46 75 73 2d 77 65 73 74 2d 32 25 32 46 73 33 25 32 46 61 77 73 34 5f 72 65 71 75 65 73 74 26 58 2d 41 6d 7a 2d 44 61 74 65 3d 32 30 32 36 30 32 31 32 54 31 38 33 38 34 36 5a 26 58 2d 41 6d 7a 2d 45 78 70 69 72 65 73 3d 36 30 34 37 39 39 26 58 2d 41 6d 7a 2d 53 69 67 6e 65 64 48 65 61 64 65 72 73 3d 63 6f 6e 74 65 6e 74 2d 6d 64 35 25 33 42 68 6f 73 74 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3a 4f 67 4d 41 57 43 55 68 50 7a 35 64 6a 38 4e 4a 58 7a 74 61 54 67 3d 3d 0a 68 6f 73 74 3a 6a 77 33 66 72 61 62 34 73 34 67 68 75 70 6b 78 2e 73 33 2e 75 73 2d 77 65 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3b 68 6f 73 74 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44</CanonicalRequestBytes><RequestId>ZQ8B5FJ04TKCDJ3Y</RequestId><HostId>8ShDTcfrSA7lhwirgwaEgL/ESCtj9e4jZb/2Wz0Oj/RfBA/cc6tvXZPBQvcRN8Mt15cFWvSIqYNkf/OrZC0ncoyCoyufHkT0af+E+ozKN8Q=</HostId></Error>


getPresignedUrl: GetPresignedUrl(preSignedUrl=https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153284/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T183846Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604799&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=671044c520643858defc471e864c627bad89a05daadbda552f36a85b5db06299, fileVersionId=153284, newFileName=null, generatedId=153798)
presigned url https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153284/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T183846Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604799&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=671044c520643858defc471e864c627bad89a05daadbda552f36a85b5db06299
 FULL  url https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153284/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T183846Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604799&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=671044c520643858defc471e864c627bad89a05daadbda552f36a85b5db06299
RAW QUERy url X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T183846Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604799&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=671044c520643858defc471e864c627bad89a05daadbda552f36a85b5db06299


https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153302/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T220818Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604800&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=f4bfd35c8c0098a421e60ed9e97912fae1a64360ecac1d5fbf28a69b3bc7116e


Encoded URL for Step 2
https:///WebService/file?fileLength=126932&contentMD5=OgMAWCUhPz5dj8NJXztaTg%3D%3D&fileName=Bank_of_New_York_Sub_Custody_NT_b1.xlsx&autoDuplicateFile=true

Presigned url from step`
presigned url https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153309/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T223414Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604800&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=d8dcb1490c0e6379e7c13339277698cad6cf247c1f98f0656682219c108c9210
 
FULL  url https://jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com/files/demo/100181/153309/Bank_of_New_York_Sub_Custody_NT_b1.xlsx?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T223414Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604800&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=d8dcb1490c0e6379e7c13339277698cad6cf247c1f98f0656682219c108c9210
 RAW QUERy url X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20260212T223414Z&X-Amz-SignedHeaders=content-md5%3Bhost&X-Amz-Expires=604800&X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Signature=d8dcb1490c0e6379e7c13339277698cad6cf247c1f98f0656682219c108c9210

Unexpected error: S3 PUT failed: 403 <?xml version="1.0" encoding="UTF-8"?>
<Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><AWSAccessKeyId>AKIAYEJSAYU2IKMMT6GQ</AWSAccessKeyId><StringToSign>AWS4-HMAC-SHA256
20260212T223414Z
20260212/us-west-2/s3/aws4_request
b1dbbe257edaf54acfd0d21970d954fba2b61ade271addebc9494f3888134cd7</StringToSign><SignatureProvided>d8dcb1490c0e6379e7c13339277698cad6cf247c1f98f0656682219c108c9210</SignatureProvided><StringToSignBytes>41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 36 30 32 31 32 54 32 32 33 34 31 34 5a 0a 32 30 32 36 30 32 31 32 2f 75 73 2d 77 65 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 62 31 64 62 62 65 32 35 37 65 64 61 66 35 34 61 63 66 64 30 64 32 31 39 37 30 64 39 35 34 66 62 61 32 62 36 31 61 64 65 32 37 31 61 64 64 65 62 63 39 34 39 34 66 33 38 38 38 31 33 34 63 64 37</StringToSignBytes><CanonicalRequest>PUT
/files/demo/100181/153309/Bank_of_New_York_Sub_Custody_NT_b1.xlsx
X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260212T223414Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=content-md5%3Bhost
content-md5:OgMAWCUhPz5dj8NJXztaTg==
host:jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com

content-md5;host
UNSIGNED-PAYLOAD</CanonicalRequest><CanonicalRequestBytes>50 55 54 0a 2f 66 69 6c 65 73 2f 64 65 6d 6f 2f 31 30 30 31 38 31 2f 31 35 33 33 30 39 2f 42 61 6e 6b 5f 6f 66 5f 4e 65 77 5f 59 6f 72 6b 5f 53 75 62 5f 43 75 73 74 6f 64 79 5f 4e 54 5f 62 31 2e 78 6c 73 78 0a 58 2d 41 6d 7a 2d 41 6c 67 6f 72 69 74 68 6d 3d 41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 26 58 2d 41 6d 7a 2d 43 72 65 64 65 6e 74 69 61 6c 3d 41 4b 49 41 59 45 4a 53 41 59 55 32 49 4b 4d 4d 54 36 47 51 25 32 46 32 30 32 36 30 32 31 32 25 32 46 75 73 2d 77 65 73 74 2d 32 25 32 46 73 33 25 32 46 61 77 73 34 5f 72 65 71 75 65 73 74 26 58 2d 41 6d 7a 2d 44 61 74 65 3d 32 30 32 36 30 32 31 32 54 32 32 33 34 31 34 5a 26 58 2d 41 6d 7a 2d 45 78 70 69 72 65 73 3d 36 30 34 38 30 30 26 58 2d 41 6d 7a 2d 53 69 67 6e 65 64 48 65 61 64 65 72 73 3d 63 6f 6e 74 65 6e 74 2d 6d 64 35 25 33 42 68 6f 73 74 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3a 4f 67 4d 41 57 43 55 68 50 7a 35 64 6a 38 4e 4a 58 7a 74 61 54 67 3d 3d 0a 68 6f 73 74 3a 6a 77 33 66 72 61 62 34 73 34 67 68 75 70 6b 78 2e 73 33 2e 75 73 2d 77 65 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3b 68 6f 73 74 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44</CanonicalRequestBytes><RequestId>YG3E2E3ZY9DBE72G</RequestId><HostId>nrWqtwkVmKx+bUEAERY9Qy8z/6Q9W96GFrY/spHc0JN8zje4VBdnzRKsVOe2et7xbABVJy/o4L3ejpLfjXNx+Q==</HostId></Error>

java.lang.RuntimeException: S3 PUT failed: 403 <?xml version="1.0" encoding="UTF-8"?>
<Error><Code>SignatureDoesNotMatch</Code><Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message><AWSAccessKeyId>AKIAYEJSAYU2IKMMT6GQ</AWSAccessKeyId><StringToSign>AWS4-HMAC-SHA256
20260212T223414Z
20260212/us-west-2/s3/aws4_request
b1dbbe257edaf54acfd0d21970d954fba2b61ade271addebc9494f3888134cd7</StringToSign><SignatureProvided>d8dcb1490c0e6379e7c13339277698cad6cf247c1f98f0656682219c108c9210</SignatureProvided><StringToSignBytes>41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 0a 32 30 32 36 30 32 31 32 54 32 32 33 34 31 34 5a 0a 32 30 32 36 30 32 31 32 2f 75 73 2d 77 65 73 74 2d 32 2f 73 33 2f 61 77 73 34 5f 72 65 71 75 65 73 74 0a 62 31 64 62 62 65 32 35 37 65 64 61 66 35 34 61 63 66 64 30 64 32 31 39 37 30 64 39 35 34 66 62 61 32 62 36 31 61 64 65 32 37 31 61 64 64 65 62 63 39 34 39 34 66 33 38 38 38 31 33 34 63 64 37</StringToSignBytes><CanonicalRequest>PUT
/files/demo/100181/153309/Bank_of_New_York_Sub_Custody_NT_b1.xlsx
X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=AKIAYEJSAYU2IKMMT6GQ%2F20260212%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Date=20260212T223414Z&amp;X-Amz-Expires=604800&amp;X-Amz-SignedHeaders=content-md5%3Bhost
content-md5:OgMAWCUhPz5dj8NJXztaTg==
host:jw3frab4s4ghupkx.s3.us-west-2.amazonaws.com

content-md5;host
UNSIGNED-PAYLOAD</CanonicalRequest><CanonicalRequestBytes>50 55 54 0a 2f 66 69 6c 65 73 2f 64 65 6d 6f 2f 31 30 30 31 38 31 2f 31 35 33 33 30 39 2f 42 61 6e 6b 5f 6f 66 5f 4e 65 77 5f 59 6f 72 6b 5f 53 75 62 5f 43 75 73 74 6f 64 79 5f 4e 54 5f 62 31 2e 78 6c 73 78 0a 58 2d 41 6d 7a 2d 41 6c 67 6f 72 69 74 68 6d 3d 41 57 53 34 2d 48 4d 41 43 2d 53 48 41 32 35 36 26 58 2d 41 6d 7a 2d 43 72 65 64 65 6e 74 69 61 6c 3d 41 4b 49 41 59 45 4a 53 41 59 55 32 49 4b 4d 4d 54 36 47 51 25 32 46 32 30 32 36 30 32 31 32 25 32 46 75 73 2d 77 65 73 74 2d 32 25 32 46 73 33 25 32 46 61 77 73 34 5f 72 65 71 75 65 73 74 26 58 2d 41 6d 7a 2d 44 61 74 65 3d 32 30 32 36 30 32 31 32 54 32 32 33 34 31 34 5a 26 58 2d 41 6d 7a 2d 45 78 70 69 72 65 73 3d 36 30 34 38 30 30 26 58 2d 41 6d 7a 2d 53 69 67 6e 65 64 48 65 61 64 65 72 73 3d 63 6f 6e 74 65 6e 74 2d 6d 64 35 25 33 42 68 6f 73 74 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3a 4f 67 4d 41 57 43 55 68 50 7a 35 64 6a 38 4e 4a 58 7a 74 61 54 67 3d 3d 0a 68 6f 73 74 3a 6a 77 33 66 72 61 62 34 73 34 67 68 75 70 6b 78 2e 73 33 2e 75 73 2d 77 65 73 74 2d 32 2e 61 6d 61 7a 6f 6e 61 77 73 2e 63 6f 6d 0a 0a 63 6f 6e 74 65 6e 74 2d 6d 64 35 3b 68 6f 73 74 0a 55 4e 53 49 47 4e 45 44 2d 50 41 59 4c 4f 41 44</CanonicalRequestBytes><RequestId>YG3E2E3ZY9DBE72G</RequestId><HostId>nrWqtwkVmKx+bUEAERY9Qy8z/6Q9W96GFrY/spHc0JN8zje4VBdnzRKsVOe2et7xbABVJy/o4L3ejpLfjXNx+Q==</HostId></Error>
	
